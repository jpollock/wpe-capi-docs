---
title: Create a new account user
description: Create a new account user
---

{/* AUTO-GENERATED: Do not edit directly */}
{/* Source: public/openapi/v1.yaml */}
{/* Last updated: 2025-06-27T16:11:38.033Z */}
{/* Generator: scripts/generate-docs.js v1.0.0 */}

import { Tabs, TabItem } from '@astrojs/starlight/components';

# POST /accounts/\{account_id\}/account_users

Create a new account user



## Parameters

### Path Parameters

| Name | Type | Required | Description |
|------|------|----------|-------------|
| account_id | string (uuid) | yes | ID of account |



### Request Body

| Name | Type | Required | Description |
|------|------|----------|-------------|
| user | object | yes | The user that will be created |
| user.account_id | string (uuid) | yes | The account ID |
| user.first_name | string | yes |  |
| user.last_name | string | yes |  |
| user.email | string | yes |  |
| user.roles | string | yes | choose from &#x27;owner&#x27;, &#x27;full,billing&#x27;, &#x27;full&#x27;, &#x27;partial,billing&#x27;, and &#x27;partial&#x27; |
| user.install_ids | array | no |  |

```json
{
  "user": {
    "account_id": "eeda3227-9a39-46ae-9e14-20958bb4e6c9",
    "first_name": "Joe",
    "last_name": "Smith",
    "email": "joe@gmail.com",
    "roles": "full,billing",
    "install_ids": [
      "ddda3227-9a39-46ae-9e14-20958bb4e6c9",
      "qada3227-9a39-46ae-9e14-20958bb4e45y"
    ]
  }
}
```

## Code Examples

<Tabs>
  <TabItem label="cURL">
    ```bash
    curl -X POST \
  -u "API_USER_ID:API_USER_PASSWORD" \
  -H "Content-Type: application/json" \
  -d '\{
  "user": \{
    "account_id": "eeda3227-9a39-46ae-9e14-20958bb4e6c9",
    "first_name": "Joe",
    "last_name": "Smith",
    "email": "joe@gmail.com",
    "roles": "full,billing",
    "install_ids": [
      "ddda3227-9a39-46ae-9e14-20958bb4e6c9",
      "qada3227-9a39-46ae-9e14-20958bb4e45y"
    ]
  \}
\}' \
  "https://api.wpengineapi.com/v1/accounts/eeda3227-9a39-46ae-9e14-20958bb4e6c9/account_users"
    ```
  </TabItem>
  <TabItem label="PHP">
    ```php
    <?php
require_once 'vendor/autoload.php';

use GuzzleHttp\Client;

$client = new Client();
$auth = base64_encode('API_USER_ID:API_USER_PASSWORD');

try \{
    $response = $client->post('https://api.wpengineapi.com/v1/accounts/eeda3227-9a39-46ae-9e14-20958bb4e6c9/account_users', [
        'headers' => [
            'Authorization' => 'Basic ' . $auth,
            'Content-Type' => 'application/json'
        ],
        'json' => [
    'user' => [
    'account_id' => 'eeda3227-9a39-46ae-9e14-20958bb4e6c9',
    'first_name' => 'Joe',
    'last_name' => 'Smith',
    'email' => 'joe@gmail.com',
    'roles' => 'full,billing',
    'install_ids' => [
    '0' => 'ddda3227-9a39-46ae-9e14-20958bb4e6c9',
    '1' => 'qada3227-9a39-46ae-9e14-20958bb4e45y'
]
]
]
    ]);

    $data = json_decode($response->getBody(), true);
    print_r($data);
\} catch (Exception $e) \{
    echo 'Error: ' . $e->getMessage();
\}
?>
    ```
  </TabItem>
  <TabItem label="Python">
    ```python
    import requests
import json
import base64

url = "https://api.wpengineapi.com/v1/accounts/eeda3227-9a39-46ae-9e14-20958bb4e6c9/account_users"
auth_string = base64.b64encode('API_USER_ID:API_USER_PASSWORD'.encode()).decode()
headers = \{
    'Authorization': f'Basic \{auth_string\}',
    'Content-Type': 'application/json'
\}

data = \{
    "user": \{
        "account_id": "eeda3227-9a39-46ae-9e14-20958bb4e6c9",
        "first_name": "Joe",
        "last_name": "Smith",
        "email": "joe@gmail.com",
        "roles": "full,billing",
        "install_ids": [
            "ddda3227-9a39-46ae-9e14-20958bb4e6c9",
            "qada3227-9a39-46ae-9e14-20958bb4e45y"
        ]
    \}
\}

try:
    response = requests.post(url, headers=headers, json=data)
    response.raise_for_status()
    result = response.json()
    print(json.dumps(result, indent=2))
except requests.exceptions.RequestException as e:
    print(f"Error: \{e\}")
    ```
  </TabItem>
  <TabItem label="Node.js">
    ```javascript
    const axios = require('axios');

const config = \{
  method: 'post',
  url: 'https://api.wpengineapi.com/v1/accounts/eeda3227-9a39-46ae-9e14-20958bb4e6c9/account_users',
  headers: \{
    'Authorization': 'Basic ' + Buffer.from('API_USER_ID:API_USER_PASSWORD').toString('base64'),
    'Content-Type': 'application/json'
  \},
  data: \{
  "user": \{
    "account_id": "eeda3227-9a39-46ae-9e14-20958bb4e6c9",
    "first_name": "Joe",
    "last_name": "Smith",
    "email": "joe@gmail.com",
    "roles": "full,billing",
    "install_ids": [
      "ddda3227-9a39-46ae-9e14-20958bb4e6c9",
      "qada3227-9a39-46ae-9e14-20958bb4e45y"
    ]
  \}
\}
\};

async function makeRequest() \{
  try \{
    const response = await axios(config);
    console.log(JSON.stringify(response.data, null, 2));
  \} catch (error) \{
    console.error('Error:', error.response?.data || error.message);
  \}
\}

makeRequest();
    ```
  </TabItem>
</Tabs>

## Responses

### 201 Created

Created

```json
{
  "message": "Your change was successful.",
  "account_user": {
    "user_id": "28c78b6d-c2da-4f09-85f5-1ad588089b2d",
    "account_id": "eeda3227-9a39-46ae-9e14-20958bb4e6c9",
    "first_name": "Joe",
    "last_name": "Smith",
    "email": "joeSmith@test.com",
    "phone": "1234567890",
    "invite_accepted": false,
    "mfa_enabled": true,
    "roles": "billing, partial"
  }
}
```

### 400 Bad Request

Bad Request

```json
{
  "message": "User email is required",
  "errors": [
    {
      "resource": "AccountUser",
      "field": "email",
      "type": "missing_field",
      "code": "required",
      "message": "Email address is required"
    }
  ]
}
```

### 401 Authentication Error

Authentication Error

```json
{
  "message": "Authentication required"
}
```

### 403 Not authorized

Not authorized

```json
{
  "message": "Insufficient permissions to access this resource"
}
```

### 429 


```json
{
  "message": "Rate limit exceeded - too many requests"
}
```

### 503 


```json
{
  "message": "Service temporarily unavailable"
}
```


## Error Responses

- **400**: Bad Request
- **401**: Authentication Error
- **403**: Not authorized
- **429**: 
- **503**: 

## Authentication

This endpoint requires authentication. See the [Authentication guide](/api-reference/authentication/) for details.

{/* CUSTOM-START: additional-notes */}
{/* Add any custom notes or examples here */}
{/* CUSTOM-END: additional-notes */}

## Related Resources

- [API Overview](/api-reference/overview/)
- [Authentication](/api-reference/authentication/)
- [Account User endpoints](/api-reference/endpoints/account-user/)
